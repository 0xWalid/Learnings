# ğŸš¨ Lab: SQL Injection Vulnerability Allowing Login Bypass

A classic booleanâ€‘based SQL injection inside the login form allowed authentication as the `administrator` user without knowing the password.

---

## ğŸ“Œ 1. Observation

- The target endpoint was:
    
    `/login`
    
- Supplying **wrong credentials** produced a normal â€œinvalid loginâ€ response.
- Injecting a **single quote (')** into either the username or password triggered an **Internal Server Error**.
- This error strongly indicated:
    - The input is embedded inside a backend SQL query.
    - The query is not parameterized.
    - The server breaks when SQL syntax becomes invalid.
- The behaviour matched classic broken-stringâ€‘literal patterns seen in SQL injection.

---

## ğŸ§  2. Hypothesis

The server likely uses a vulnerable login query resembling:

```sql
SELECT * FROM users
WHERE username='<user_input>' AND password='<pass_input>';
```

Reasoning:

- Because `'` breaks the query, user input is **inside single quotes**.
- Since invalid input causes a server error instead of safe handling, the query is directly concatenated.
- If the password field can be manipulated, a Boolean condition such as:

```sql
' OR 1=1--
```

â€¦should cause the WHERE clause to always evaluate to **true**, returning the first user in the table â€” normally the administrator.

**Hypothesis:**

Injecting a Boolean expression in the **password** field will bypass authentication and log in as administrator.

---

## ğŸ§ª 3. Test (Experiments Conducted)

### **Test 1 â€” Wrong Credentials**

- **Input:** incorrect username/password
- **Actual:** login failed
- **Interpretation:** baseline behaviour confirmed.

---

### **Test 2 â€” Single Quote Injection**

- **Input (username or password):** `'`
- **Actual:** Internal Server Error
- **Interpretation:** clear proof the string literal broke the backend SQL.

---

### **Test 3 â€” Boolean Injection Attempt**

- **Username:** `admin`
- **Password:** `' OR 1=1--`
- **Expected:** bypass authentication
- **Actual:** login successful
- **Interpretation:** query manipulated successfully and conditions forced to true.

---

## ğŸ“Š 4. Result

### **Payload Used**

```sql
' OR 1=1--
```

### **What Happened**

- `username='admin'` matched the admin account.
- Injected `OR 1=1` always evaluates to `true`.
- `-` commented out the rest of the SQL query.
- The application logged in as **administrator** despite the password being irrelevant.

### âœ” Proof of Lab Completion

- Dashboard displayed: *â€œYour username is: administratorâ€*
- Screenshot:
    
    <img width="1173" height="561" alt="image" src="https://github.com/user-attachments/assets/014ebf60-f5a6-481d-a7e2-5f90c6aeda2b" />

    

---

## ğŸ“ 5. Learning (Deep Reasoning)

- **Single-quote breaks** are the strongest signal of SQL injection.
- Authentication queries are extremely vulnerable because:
    - They rely on strict equality checks.
    - Developers often concatenate strings directly.
- Booleanâ€‘based SQLi is the simplest and most reliable login bypass technique.
- Attempting additional `SELECT` statements fails because:
    - This query expects **expressions**, not **new SELECT blocks**.
    - Understanding query structure is critical to choosing correct payloads.

---

## ğŸ”® 6. Future Pattern Detection

This lab reinforces that the following behaviors almost always indicate login SQL injection:

- Internal errors triggered by `'`.
- No rateâ€‘limiting or captcha.
- Password field behaves differently with malformed input.
- Login failure vs server error states are distinguishable.
- Login form returns user dashboard on a *true* boolean condition, even without password validation.

These cues help identify SQLi before payload testing.

---

## ğŸ§­ 7. Notes for My Future Self

- Always test `'` first â€” fastest detector of vulnerable queries.
- Booleanâ€‘based injections are often enough for login bypass.
- Understand the backendâ€™s expected SQL structure before selecting payloads.
- Treat login forms as prime targets â€” developers often handle them dangerously.
